---
layout: single
title: "코어 자바스크립트 - 데이터 타입"
categories: javascript
tag: [javascript, 코어 자바스크립트, 데이터 타입]
toc : true
toc_sticky: true
toc_label: " "
toc_icon: " " 
header:
  teaser: /assets/images/회고.jpg
---

> 정재남 님의 '코어 자바스크립트' 책을 읽고 정리한 글입니다.

## 데이터 타입의 종류

- 기본형(원시형, primitive type): 값이 담긴 주솟값을 복제 
  - 숫자(number)
  - 문자열(string)
  - 불리언(boolean)
  - null
  - undefined
  - symbol(ES6 이후)
- 참조형(reference type): 값이 담긴 주솟값들로 이루어진 묶음을 가르키는 주솟값을 복제
  - 객체(object)
  - 배열(array)
  - 함수(function)
  - 날짜(date)
  - 정규표현식(regexp)
  - Map, WeakMap, Set, WeakSet 등(ES6 이후)

## 데이터 타입에 관한 배경지식

### 메모리와 데이터

- 컴퓨터는 binary system을 이용해 모든 데이터를 0 또는 1로 바꿔 기억
- 비트(bit): 0 또는 1만 표현할 수 있는 하나의 메모리 조각
  - 각 비트는 <b>고유한 식별자(Unique identifier)</b>를 통해 위치를 확인 가능
  - 매우 많은 비트를 묶어 사용하면 표현할 수 있는 데이터의 개수 늘어나고, 검색 시간도 줄일 수 있지만 낭비되는 비트 생길 가능성

- 바이트(byte): 낭비되는 bit를 줄이기 위해, 공간 제약을 감수하고 적정한 공간을 묶은 byte 단위 생성
  - 1byte = 8개의 bit = 2의 8승 개의 값을 표현 가능
  - 바이트 위치는 시작하는 비트의 식별자로 파악 가능
- 모든 데이터는 바이트 단위의 식별자, 메모리 주솟값(memory address)으로 서로 구분하고 연결 가능

### 식별자와 변수 

- 변수: 변할 수 있는 수 / 변할 수 있는 무언가(컴퓨터 용어일 때, 여기서 '무언가'란 데이터를 의미한다.)
- 식별자: 어떤 데이터를 식별하는데 사용하는 이름인 '변수명'을 의미

## 변수 선언과 데이터 할당

### 변수 선언

```js
var a; // 변할 수 있는 데이터, 이 데이터의 식별자는 a
```
-> <b>변수</b>란 변경 가능한 데이터가 담길 수 있는 공간 또는 그릇 이란걸 알 수 있다.

그렇다면 컴퓨터는 선언된 변수를 메모리에 어떤 방식으로 저장할까? 아래 표를 보자.

|---|---|---|---|---|---|---|
|주소|···|1002|1003|1004|1005|···|
|데이터|   |   |이름:a<br>값: |   |   |   |

컴퓨터는 임의로 비어있는 공간 중 하나인 1003번을 정해서, 이 공간의 이름(식별자)를 a라고 지정한다. 

### 데이터 할당

선언과 할당은 아래와 같이 2가지 방식이 있다.

```js
var a; // 변수 a 선언
a = 'abc'; // a에 데이터 할당

var a = 'abc'; // 변수 선언과 데이터 할당을 한 문장에 표현
```

그럼 데이터 할당을 할 때 메모리 영역은 어떤 식으로 변화할까?


|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|주소|···|1002|1003|1004|1005|···|
|데이터|   |   |이름: a<br>값: @5004<br>(변수 영역)|   |   |   |
|주소|···|5002|5003|5004|5005|···|
|데이터|   |   |   |'abc'|   |   |

왜 이런식으로 변수와 데이터를 별도의 공간에 나누어 저장할까? 데이터 변환을 자유롭게 하기 위함과 메모리를 효율적으로 관리하기 위함이다. 이런 방식으로 하지 않고 변수 영역에 데이터 값도 같이 저장하게 된다면, 데이터를 변환할 때 변환할 데이터에 맞게 공간 확보를 하는 작업을 진행해야 된다. 그리고 이로 인해 중간에 데이터 공간을 늘려야 되는 상황이 생긴다면, 그 데이터 이후에 있는 모든 데이터들을 뒤로 옮기고, 데이터들을 식별자에 다시 연결하는 비효율적인 작업을 진행해야 된다.  

- 예시  
i. 위에서 선언한 변수 a의 데이터 'abc'에 'def'를 추가한다면, 컴퓨터는 아래 표처럼 'abc'가 저장된 공간이 아닌 새로운 공간에 문자열 'abcdef'를 만들어 저장한다.  
ii. 선언한 변수 a의 데이터 'abc'에서 c를 제거한다고 해도 위의 경우처럼 동일한 프로세스 대로 컴퓨터가 데이터를 저장하게 된다.

|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|주소|···|1002|1003|1004|1005|···|
|데이터|   |   |이름: a<br>값: @5005<br>(변수 영역)|   |   |   |
|주소|···|5002|5003|5004|5005|···|
|데이터|   |   |   |'abc'|'abcdef'|   |

여기서 주소 5004의 'abc'는 자신의 주소를 지칭하는 변수가 하나도 없게 되서 가비지 컬렉터(garbage collector)의 수거 대상이 된다.

## 기본형 데이터와 참조형 데이터

### 불변값

- 변수(variable): 바꿀 수 있다.
- 상수(constant): 바꿀 수 없다. -> 불변값과 다른 개념
- 불변값: 숫자, 문자열, boolean, undefined, Symbol

```js
var a = 'abc';
var a = a + 'def';
/*
변수 a는 'abc'를 'abcdef'로 바꾸지 않고, 
새로운 문자열 'abcdef'를 만들어 그 주소를 변수 a에 저장한다.
불변값인 'abc'를 변경하지 않는 다는 것을 알 수 있다.
*/

var b = 5;
var c = 5;
b = 7;
/* 
변수 c에 데이터 5를 할당할 때 이미 변수 b에 할당했던 데이터 5의 동일한 주소를 재활용한다. 
'b = 7'에서는 변수 b의 값을 7로 변경하려는데, 
이 때도 마찬가지로 기존에 저장됐던 7이 없으면 
새로 만들어서 b에 저장한다.
*/
```
이처럼 불변값인 숫자나 문자열 모두 값을 바꿀 수 없고, 변수에 할당된 불변값들을 변경하긴 위해선 새로운 동작을 통해서만 가능하다(불변값의 성질). 

### 가변값

기본형 데이터는 모두 불변값으로 보이는데, 그렇다면 참조형 데이터의 경우 모두 가변값일까? 닶은 가변값인 경우도 있지만, 설정에 따라 변경 불가능한 경우도 있고, 불변값으로 활용되는 경우도 있다.

- 예제, 참조형 데이터의 할당

```js
var obj1 = {
  a: 1,
  b: 'bbb'
};
```

참조형 데이터는 기본형 데이터와 다르게 '객체의 변수(프로퍼티) 영역'(아래 표에서 객체 @5001의 변수 영역)이 별도로 존재한다. 참조형 데이터도 기본형 데이터와 마찬가지로 데이터 영역의 불변값들을 변경하지 못 하지만, 각각의 변수에는 다른 값들을 할당할 수 있기 때문에 참조형 데이터를 불변하지 않다(가변값이다)라고 한다.

|:---:|:---:|:---:|:---:|:---:|:---:|
|주소|1001|1002|1003|1004|···|
|데이터|   |   |이름: obj1<br>값: @5001<br>(변수 영역)|   |   |
|주소|5001|5002|5003|5004|···|
|데이터|@7003 ~ ?<br>(데이터 영역)|   |1|'bbb'|   |
|주소|7001|7002|7003|7004|···|
|데이터|   |   |이름: a<br>값: @5003<br>(객체 @5001의 변수 영역)|이름: b<br>값: @5004|   |




